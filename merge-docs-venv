#!/bin/bash
#
# merge-docs-venv - 自动使用虚拟环境运行 merge-docs
#

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
VENV_DIR="$SCRIPT_DIR/.venv"

# 检查虚拟环境是否存在
if [ ! -d "$VENV_DIR" ]; then
    echo "❌ 虚拟环境不存在，请先运行: ./setup-venv.sh"
    exit 1
fi

# 激活虚拟环境并运行
source "$VENV_DIR/bin/activate"
python3 "$SCRIPT_DIR/merge_docs_with_content.py" "$@"
